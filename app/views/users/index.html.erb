<h1> List of users </h1>

<%= search_form_for @q do |f| %>
  <div>
    <%= f.label :username_cont, "Search by username" %>
    <%= f.text_field :username_cont %>
  </div>
  <div>
  <%= f.submit :class => "btn btn-outline-dark btn-sm" %>
  </div>
  
<% end %>

<% @users.each do |user| %>
  <p><%= user.username %></p>
<% end %>

<div>
  <div>
    <table border="1">
      <tr>
        <th>
          ID
        </th>

        <th>
          Username
        </th>

        <th>
          First name
        </th>

        <th>
          Last name
        </th>

        <th>
          Email
        </th>

        <th>
          Bio
        </th>

        <th>
          Avatar
        </th>

        <th>
          Created at
        </th>

        <th>
          Updated at
        </th>

        <th>
        </th>
      </tr>

      <% User.all.order({ :created_at => :desc }).each do |a_user| %>
      <tr>
        <td>
          <%= a_user.id %>
        </td>

        <td>
          <%= a_user.username %>
        </td>

        <td>
          <%= a_user.first_name %>
        </td>

        <td>
          <%= a_user.last_name %>
        </td>

        <td>
          <%= a_user.email %>
        </td>

        <td>
          <%= a_user.bio %>
        </td>

        <td>
          <img src="<%= a_user.avatar_url %>" width="100px" height="100px" object-fit= "cover">
        </td>

        <td>
          <%= time_ago_in_words(a_user.created_at) %> ago
        </td>
        <td>
          <%= time_ago_in_words(a_user.updated_at) %> ago
        </td>

        <td>
          <a href="/users/<%= a_user.id %>">
            Show details
          </a>
        </td>
      </tr>
      <% end %>
    </table>
  </div>
</div>
